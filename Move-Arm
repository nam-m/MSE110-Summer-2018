/*Moves arm that will trap the object in front of linebot;
	code to move the robot (10cm away or off the table) not included*/
	
#pragma config(Sensor, S1,     Button,         sensorEV3_Touch)
#pragma config(Motor,  motorC,          AM,            tmotorEV3_Medium, PIDControl, encoder)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

task main()
{
	float n = 1; //speed modifier
	int button;
	int ArmPos;

	resetMotorEncoder(AM);

	while (true)
	{
    ArmPos = getMotorEncoder(AM);
		displayCenteredBigTextLine(7, "ArmPos: %f", ArmPos);
		button = getTouchValue(Button);
		displayCenteredBigTextLine(9, "Button: %i", button);

		if (button == 1)//(Object is <= 3cm away in real code) 
		{
			setMotorTarget(AM, -135, 100*n);
			waitUntilMotorStop(AM);
		}

		//Code to move object off table here
		
		if (button == 0 && ArmPos == -135) // (Object is off the table/ car has moved 10 cm)
		{
			setMotorTarget(AM, 0, 100*n);
			waitUntilMotorStop(AM);
		}
	}
}
